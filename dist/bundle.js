(()=>{"use strict";var e,t,n,o,a,r,c,l,u,i,s,d,v,m,f,p,y,h,q,E,S;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function a(e){return e<10?e="0".concat(e):e}!function e(){var r,c,l,u=(r=(new Date("8 may 2021").getTime()-(new Date).getTime())/1e3,c=Math.floor(r%60),l=Math.floor(r/60%60),{timeRemaining:r,hours:Math.floor(r/60/60%24),minutes:l,seconds:c});if(t.textContent=a(u.hours),n.textContent=a(u.minutes),o.textContent=a(u.seconds),u.timeRemaining<0)return t.textContent="00",n.textContent="00",void(o.textContent="00");setTimeout((function(){e()}),1e3)}()})(),E=document.querySelector("menu"),S=function(){if(document.documentElement.clientWidth<=768)E.style.transform="translate(-100%)";else var e=requestAnimationFrame((function(){var t=0,n=setInterval((function(){t>-100?(t-=2,E.style.transform="translate(".concat(t,"%)")):(clearInterval(n),cancelAnimationFrame(e))}),10)}))},document.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")&&("translate(0%)"===E.style.transform||"translate(0px)"===E.style.transform?S():function(){if(document.documentElement.clientWidth<=768)E.style.transform="translate(0)";else var e=requestAnimationFrame((function(){var t=-100,n=setInterval((function(){t<0?(t+=2,E.style.transform="translate(".concat(t,"%)")):(clearInterval(n),cancelAnimationFrame(e))}),10)}))}()),(t.classList.contains("scroll")||t.classList.contains("close-btn"))&&S(),"translate(0%)"===E.style.transform&&"MENU"!==t.tagName&&"LI"!==t.tagName&&S()})),y=document.querySelector(".popup"),h=document.querySelectorAll(".popup-btn"),q=document.querySelector(".popup-close"),h.forEach((function(e){e.addEventListener("click",(function(){y.style.display="block";var e=requestAnimationFrame((function(){if(document.documentElement.clientWidth<=768)return y.style.opacity="1",void cancelAnimationFrame(e);var t=0,n=setInterval((function(){t<100?(t+=6,y.style.opacity="".concat(.01*t)):(clearInterval(n),cancelAnimationFrame(e))}),30)}))}))})),q.addEventListener("click",(function(){y.style.display="none",y.style.opacity=0})),y.addEventListener("click",(function(e){e.target.closest(".popup-content")||(y.style.display="none",y.style.opacity=0)})),document.querySelectorAll("a.scroll").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",blocks:"start"})}))})),m=document.querySelector(".service-header"),f=document.querySelectorAll(".service-header-tab"),p=document.querySelectorAll(".service-tab"),m.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&f.forEach((function(e,n){e===t&&function(e){for(var t=0;t<p.length;t++)e===t?(p[t].classList.remove("d-none"),f[t].classList.add("active")):(p[t].classList.add("d-none"),f[t].classList.remove("active"))}(n)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),o=document.querySelector(".portfolio-content"),a=document.querySelectorAll(".dot"),r=0;!function(){for(var e=0;e<t.length;){var o=document.createElement("li");o.classList.add("dot"),0===e&&o.classList.add("dot-active"),n.append(o),e++}}(),a=document.querySelectorAll(".dot");var c=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},u=function(){c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=t.length&&(r=0),l(t,r,"portfolio-item-active"),l(a,r,"dot-active")},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(u,t)};o.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches("#arrow-right, #arrow-left, .dot")&&(c(t,r,"portfolio-item-active"),c(a,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&a.forEach((function(e,t){n===e&&(r=t)})),r>=t.length?r=0:r<0&&(r=t.length-1),l(t,r,"portfolio-item-active"),l(a,r,"dot-active"))})),o.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i()}(),s=document.querySelectorAll(".command__photo"),d=function(e){var t=e.target,n=t.dataset.img;t.dataset.img=t.src,t.src=n},v=function(e){var t=e.target,n=t.dataset.img;t.dataset.img=t.src,t.src=n},s.forEach((function(e){e.addEventListener("mouseenter",d),e.addEventListener("mouseout",v)})),e=document.querySelectorAll("input.calc-item"),t=document.getElementById("form2-message"),n=document.querySelectorAll('input[type="tel"]'),o=document.querySelectorAll('input[name="user_name"]'),a=document.querySelectorAll('input[type="email"]'),r=document.querySelectorAll("input"),c=/[^0-9]/g,l=/^-|-$/g,u=/\s{2,}/,i=/-{2,}/g,n.forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^0-9\+]/gi,"")}))})),a.forEach((function(e){e.addEventListener("blur",(function(){})),e.addEventListener("input",(function(){/^\w+@\w+\.\w{2,3}$/.test(e)&&e.setCustomValidity("email@email.ru")}))})),o.forEach((function(e){e.addEventListener("blur",(function(){e.value=e.value.replace(/[^а-я -]{2,50}/gi,"")})),e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-я -]{2,50}/i,"")})),e.value=e.value.replace(/[^.]/gi,(function(e){return e.toLowerCase()})),e.value=e.value.replace(/^.{1}/,(function(e){return e.toUpperCase()}))})),e.forEach((function(e){e.addEventListener("blur",(function(){e.value=e.value.replace(c,"")}))})),r.forEach((function(e){e.addEventListener("blur",(function(){e.value=e.value.replace(u," "),e.value=e.value.replace(i,"-"),e.value=e.value.trim()}))})),t.addEventListener("blur",(function(){t.value=t.value.replace(u," "),t.value=t.value.replace(i,"-"),t.value=t.value.trim(),t.value=t.value.replace(l,"")})),t.addEventListener("input",(function(){t.value=t.value.replace(/[^0-9а-я \.,:\?\!;-]/gi,"")})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),c=document.getElementById("total"),l=function(){var t=0,l=1,u=1,i=+n.options[n.selectedIndex].value,s=+o.value;if(a.value>1&&(l+=(a.value-1)/10),r.value&&r.value<5?u*=2:r.value&&r.value<10&&(u*=1.5),i&&s){t=Math.floor(e*i*s*l*u);var d=1,v=setInterval((function(){if(!o.value&&!n.value)return c.textContent=0,void clearInterval(v);c.textContent=d,d<t?d+=50:(c.textContent=t,clearInterval(v))}),1)}else r.value="",a.value="",c.textContent=0};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&l()}))}(100),function(){var e=document.getElementById("form1"),t=document.getElementById("form2"),n=document.getElementById("form3"),o=document.createElement("div");o.classList.add("success-modal"),o.innerHTML='\n      <h3 class="header-success">Спасибо! Ваша заявка отправлена!</h3>\n    ';var a=document.createElement("div");a.classList.add("overlay-loader"),a.innerHTML='\n      <div class="loader">\n        <div class="colu col_1"></div>\n        <div class="colu col_2"></div>\n        <div class="colu col_3"></div>\n        <div class="colu col_4"></div>\n        <div class="colu col_5"></div>\n        <div class="colu col_6"></div>\n        <div class="colu col_7"></div>\n        <div class="colu col_8"></div>\n      </div>\n    ';var r=function(e,t){var n={};e.forEach((function(e,t){n[t]=e})),function(e){return fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(n).then((function(e){if(console.log(e),200!==e.status)throw new Error("status network not 200");document.querySelector(".overlay-loader").remove(),t.append(o),setTimeout((function(){t.querySelector(".success-modal")&&t.querySelector(".success-modal").remove()}),3e3)})).catch((function(e){console.error(e),document.querySelector(".overlay-loader").remove()}))};e.addEventListener("submit",(function(t){t.preventDefault();var n=e.querySelector('input[type="email"]'),o=e.querySelector('input[type="tel"]'),c=e.querySelector('input[name="user_name"]');if(/^\w+@\w+\.\w{2,3}$/.test(n.value)&&/(^\+[\d]{11,})|(^[\d]{11,})/.test(o.value)&&/[а-я -]{2,50}/i.test(c.value)){e.append(a);var l=new FormData(e);r(l,e),document.querySelectorAll("#form1 input").forEach((function(e){e.value=""}))}else alert("Введите валидные данные!")})),t.addEventListener("submit",(function(e){e.preventDefault();var n=t.querySelector('input[type="email"]'),o=t.querySelector('input[type="tel"]'),c=t.querySelector('input[name="user_name"]');if(/^\w+@\w+\.\w{2,3}$/.test(n.value)&&/(^\+[\d]{11,})|(^[\d]{11,})/.test(o.value)&&/[а-я -]{2,50}/i.test(c.value)){document.querySelector(".connect").after(a);var l=new FormData(t);r(l,t),document.querySelectorAll("#form2 input").forEach((function(e){e.value=""}))}else alert("Введите валидные данные!")})),n.addEventListener("submit",(function(e){e.preventDefault();var t=n.querySelector('input[type="email"]'),o=n.querySelector('input[type="tel"]'),c=n.querySelector('input[name="user_name"]');if(/^\w+@\w+\.\w{2,3}$/.test(t.value)&&/(^\+[\d]{11,})|(^[\d]{11,})/.test(o.value)&&/[а-я -]{2,50}/i.test(c.value)){n.append(a);var l=new FormData(n);r(l,n),setTimeout((function(){document.querySelector(".popup").style.display="none",n.querySelector(".success-modal").remove()}),6e3),document.querySelectorAll("#form3 input").forEach((function(e){e.value=""}))}else alert("Введите валидные данные!")}))}()})();